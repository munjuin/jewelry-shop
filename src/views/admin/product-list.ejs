<!DOCTYPE html>
<html lang="ko">
<head>
    <%- include('../partials/head') %>
    <style>
        .admin-container { max-width: 1200px; margin: 40px auto; padding: 20px; }
        .product-table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        .product-table th, .product-table td { border: 1px solid #ddd; padding: 10px; text-align: center; }
        .product-table th { background: #333; color: white; }
        
        .btn { padding: 5px 10px; text-decoration: none; border-radius: 4px; font-size: 0.9rem; border: none; cursor: pointer; }
        .btn-edit { background: #0984e3; color: white; }
        .btn-delete { background: #d63031; color: white; }
        .btn-new { background: #2ecc71; color: white; float: right; margin-bottom: 10px; }
    </style>
</head>
<body>
    <%- include('../partials/header') %>

    <main class="admin-container">
        <h2>ğŸ“¦ ê´€ë¦¬ì ìƒí’ˆ ê´€ë¦¬</h2>
        <a href="/admin/products/new" class="btn btn-new">+ ìƒí’ˆ ë“±ë¡</a>

        <table class="product-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>ìƒí’ˆëª…</th>
                    <th>ê°€ê²©</th>
                    <th>ì¹´í…Œê³ ë¦¬</th>
                    <th>ìƒíƒœ</th>
                    <th>ê´€ë¦¬</th>
                </tr>
            </thead>
            <tbody>
                <% if (products.length > 0) { %>
                    <% products.forEach(p => { %>
                        <tr>
                            <td><%= p.id %></td>
                            <td style="text-align: left;"><%= p.name %></td>
                            <td><%= p.price.toLocaleString() %>ì›</td>
                            <td><%= p.category %></td>
                            <td style="font-weight: bold; color: <%= p.status === 'SOLD_OUT' ? 'red' : 'green' %>">
                                <%= p.status %>
                            </td>
                            <td>
                                <a href="/admin/products/<%= p.id %>/edit" class="btn btn-edit">ìˆ˜ì •</a>
                                
                                <form action="/admin/products/<%= p.id %>/delete" method="POST" style="display:inline;" onsubmit="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');">
                                    <button type="submit" class="btn btn-delete">ì‚­ì œ</button>
                                </form>
                            </td>
                        </tr>
                    <% }) %>
                <% } else { %>
                    <tr><td colspan="6">ë“±ë¡ëœ ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤.</td></tr>
                <% } %>
            </tbody>
        </table>
    </main>

    <%- include('../partials/footer') %>
</body>
</html>