<!DOCTYPE html>
<html lang="ko">
<head>
    <%- include('../partials/head') %>
    <style>
        .admin-container { max-width: 800px; margin: 50px auto; padding: 20px; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: bold; }
        .form-control { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; }
        .option-row { display: flex; gap: 10px; margin-bottom: 10px; }
        .btn-submit { background-color: #333; color: white; padding: 15px; width: 100%; border: none; cursor: pointer; font-size: 16px; }
        .btn-add { background-color: #eee; border: 1px solid #ddd; padding: 5px 10px; cursor: pointer; }
    </style>
</head>
<body>
    <%- include('../partials/header') %>

    <div class="admin-container">
        <h2>ğŸ›ï¸ ìƒí’ˆ ë“±ë¡ (ê´€ë¦¬ì)</h2>
        
        <form action="/admin/products" method="POST" enctype="multipart/form-data">
            
            <div class="form-group">
                <label>ìƒí’ˆëª…</label>
                <input type="text" name="name" class="form-control" required placeholder="ì˜ˆ: 14K ë¡œì¦ˆê³¨ë“œ ë°˜ì§€">
            </div>

            <div class="form-group">
                <label>ì¹´í…Œê³ ë¦¬</label>
                <select name="category" class="form-control">
                    <option value="ring">ë°˜ì§€ (Ring)</option>
                    <option value="necklace">ëª©ê±¸ì´ (Necklace)</option>
                    <option value="earring">ê·€ê±¸ì´ (Earring)</option>
                    <option value="bracelet">íŒ”ì°Œ (Bracelet)</option>
                </select>
            </div>

            <div class="form-group">
                <label>ê°€ê²© (ì›)</label>
                <input type="number" name="price" class="form-control" required placeholder="ì˜ˆ: 150000">
            </div>

            <div class="form-group">
                <label>ìƒí’ˆ ì„¤ëª…</label>
                <textarea name="description" class="form-control" rows="5" placeholder="ìƒí’ˆì— ëŒ€í•œ ìƒì„¸í•œ ì„¤ëª…ì„ ì ì–´ì£¼ì„¸ìš”."></textarea>
            </div>

            <div class="form-group">
                <label>ìƒí’ˆ ì´ë¯¸ì§€ (ë‹¤ì¤‘ ì„ íƒ ê°€ëŠ¥)</label>
                <input type="file" name="images" class="form-control" multiple accept="image/*" required>
                <small style="color: gray;">* ì²« ë²ˆì§¸ ì´ë¯¸ì§€ê°€ ëŒ€í‘œ ì´ë¯¸ì§€(ì¸ë„¤ì¼)ê°€ ë©ë‹ˆë‹¤.</small>
            </div>

            <hr>

            <div class="form-group">
                <label>ìƒí’ˆ ì˜µì…˜ (ì‚¬ì´ì¦ˆ, ìƒ‰ìƒ ë“±)</label>
                <div id="option-container">
                    <div class="option-row">
                        <input type="text" name="option_name" placeholder="ì˜µì…˜ëª… (ì˜ˆ: 12í˜¸)" required style="flex: 2;">
                        <input type="number" name="extra_price" placeholder="ì¶”ê°€ê¸ˆ (0ì›)" value="0" style="flex: 1;">
                        <input type="number" name="stock_quantity" placeholder="ì¬ê³ " value="100" style="flex: 1;">
                    </div>
                </div>
                <button type="button" class="btn-add" onclick="addOption()">+ ì˜µì…˜ ì¶”ê°€í•˜ê¸°</button>
            </div>

            <button type="submit" class="btn-submit">ìƒí’ˆ ë“±ë¡ ì™„ë£Œ</button>
        </form>
    </div>

    <%- include('../partials/footer') %>

    <script>
        function addOption() {
            const container = document.getElementById('option-container');
            const div = document.createElement('div');
            div.className = 'option-row';
            div.innerHTML = `
                <input type="text" name="option_name" placeholder="ì˜µì…˜ëª…" required style="flex: 2;">
                <input type="number" name="extra_price" placeholder="ì¶”ê°€ê¸ˆ" value="0" style="flex: 1;">
                <input type="number" name="stock_quantity" placeholder="ì¬ê³ " value="100" style="flex: 1;">
                <button type="button" onclick="this.parentElement.remove()" style="background:red; color:white; border:none; cursor:pointer;">X</button>
            `;
            container.appendChild(div);
        }
    </script>
</body>
</html>