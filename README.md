# Jewelry E-Commerce Platform (Mastery Version)

> **"From JS to TS: ì•ˆì •ì„±ê³¼ í™•ì¥ì„±ì„ ê³ ë ¤í•œ ë°±ì—”ë“œ í˜„ëŒ€í™” í”„ë¡œì íŠ¸"**
>
> Node.js, Express ê¸°ë°˜ì˜ ì‡¼í•‘ëª° í”„ë¡œì íŠ¸ë¥¼ **TypeScriptë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜**í•˜ê³ , **Jestë¥¼ í™œìš©í•œ í…ŒìŠ¤íŠ¸ ìë™í™”** ë° **GitHub Actions CI**ë¥¼ êµ¬ì¶•í•˜ì—¬ ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ì•ˆì •ì„±ì„ í™•ë³´í–ˆìŠµë‹ˆë‹¤.

---

## ğŸš€ Migration & Quality Achievements (ê¸°ìˆ ì  ì„±ê³¼)

ì´ë²ˆ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ í†µí•´ ë‹¨ìˆœí•œ ê¸°ëŠ¥ êµ¬í˜„ì„ ë„˜ì–´, ì‹¤ì œ ì„œë¹„ìŠ¤ ìš´ì˜ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜¤ë¥˜ë¥¼ ìµœì†Œí™”í•˜ê³  ìœ ì§€ë³´ìˆ˜ íš¨ìœ¨ì„ ê·¹ëŒ€í™”í–ˆìŠµë‹ˆë‹¤.

### 1. TypeScript Migration

- **ì•ˆì •ì„±**: `strict` ëª¨ë“œ ì ìš©ì„ í†µí•´ ì»´íŒŒì¼ ë‹¨ê³„ì—ì„œ ì ì¬ì  ëŸ°íƒ€ì„ ì—ëŸ¬ ì°¨ë‹¨.
- **í™•ì¥ì„±**: `express-session`, `multer-s3` ë“± ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì»¤ìŠ¤í…€ íƒ€ì… í™•ì¥(`d.ts`)ìœ¼ë¡œ í”„ë¡œì íŠ¸ ì „ë°˜ì˜ íƒ€ì… ì¼ê´€ì„± ìœ ì§€.
- **ê°€ë…ì„±**: ì¸í„°í˜ì´ìŠ¤ ê¸°ë°˜ì˜ ë°ì´í„° êµ¬ì¡° ì •ì˜ë¡œ ì½”ë“œ ìë™ ì™„ì„± ë° ë¬¸ì„œí™” íš¨ê³¼.

### 2. Robust Testing Strategy (Jest)

- **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê²€ì¦**: ì‹¤ì œ DB ì—°ê²° ì—†ì´ë„ ë³µì¡í•œ **ì£¼ë¬¸ íŠ¸ëœì­ì…˜**ê³¼ **ì¥ë°”êµ¬ë‹ˆ ë¡œì§**ì„ ê²€ì¦í•˜ê¸° ìœ„í•œ 'Data Queue' Mocking ì „ëµ ë„ì….
- **íšŒê·€ í…ŒìŠ¤íŠ¸ í™˜ê²½**: ê¸°ëŠ¥ ìˆ˜ì • ì‹œ ê¸°ì¡´ ë¡œì§ì˜ íŒŒì† ì—¬ë¶€ë¥¼ ì¦‰ê° í™•ì¸í•  ìˆ˜ ìˆëŠ” ìœ ë‹› í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ êµ¬ì¶•.

### 3. CI Pipeline (GitHub Actions)

- **ì§€ì†ì  í†µí•©**: ëª¨ë“  Push/PR ì‹œ Ubuntu í™˜ê²½ì—ì„œ ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸ ìë™ ìˆ˜í–‰.
- **í’ˆì§ˆ ê´€ë¦¬**: í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ì§€ ëª»í•œ ì½”ë“œê°€ ë³‘í•©ë˜ì§€ ì•Šë„ë¡ ë³´í˜¸ ì‹œìŠ¤í…œ êµ¬ì¶•.

---

## ğŸ›  Tech Stack

| Category         | Technologies                                                                                                                                                                                                           |
| :--------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Language**     | ![TypeScript](https://img.shields.io/badge/TypeScript-3178C6?style=flat&logo=typescript&logoColor=white) ![NodeJS](https://img.shields.io/badge/Node.js-339933?style=flat&logo=nodedotjs&logoColor=white)              |
| **Backend**      | ![Express](https://img.shields.io/badge/Express.js-000000?style=flat&logo=express&logoColor=white)                                                                                                                     |
| **Database**     | ![PostgreSQL](https://img.shields.io/badge/PostgreSQL-4169E1?style=flat&logo=postgresql&logoColor=white)                                                                                                               |
| **Infra/DevOps** | ![GitHub Actions](https://img.shields.io/badge/GitHub%20Actions-2088FF?style=flat&logo=githubactions&logoColor=white) ![AWS S3](https://img.shields.io/badge/AWS%20S3-569A31?style=flat&logo=amazons3&logoColor=white) |
| **Testing**      | ![Jest](https://img.shields.io/badge/Jest-C21325?style=flat&logo=jest&logoColor=white)                                                                                                                                 |

---

## âœ¨ Key Features (í•µì‹¬ ê¸°ëŠ¥)

### 1. ì‚¬ìš©ì (User)

- **ì£¼ë¬¸/ê²°ì œ**: Daum ìš°í¸ë²ˆí˜¸ API ì—°ë™ ë° ë°°ì†¡ì§€ ê´€ë¦¬ ì‹œìŠ¤í…œ.
- **ì‹¤ì‹œê°„ ë¡œì§**: ì˜µì…˜ ì„ íƒì— ë”°ë¥¸ ê°€ê²© ì‹¤ì‹œê°„ ê³„ì‚° ë° 10ë§Œì› ì´ìƒ ë¬´ë£Œë°°ì†¡ ìë™ ì ìš©.
- **ë°ì´í„° ë¬´ê²°ì„±**: ì£¼ë¬¸ ì‹œì ì˜ ê°€ê²©/ì˜µì…˜ ì •ë³´ë¥¼ ë³´ì¡´í•˜ëŠ” **Snapshot íŒ¨í„´** ì ìš©.

### 2. ê´€ë¦¬ì (Admin)

- **ìƒí’ˆ ê´€ë¦¬**: AWS S3 ê¸°ë°˜ì˜ ë‹¤ì¤‘ ì´ë¯¸ì§€ ì—…ë¡œë“œ ë° ë™ì  ì˜µì…˜/ì¬ê³  ê´€ë¦¬.
- **ì£¼ë¬¸ ê´€ë¦¬**: ì£¼ë¬¸ ìƒíƒœ ë³€ê²½(ê²°ì œì™„ë£Œ/ë°°ì†¡ì¤‘/ì·¨ì†Œ) ë° ì†¡ì¥ ë²ˆí˜¸ ì¶”ì  ì‹œìŠ¤í…œ.

### 3. ë°±ì—”ë“œ í•µì‹¬ ë¡œì§

- **Atomic Transaction**: ì£¼ë¬¸ í”„ë¡œì„¸ìŠ¤(ì£¼ë¬¸ì„œ ìƒì„±-ìƒì„¸ ê¸°ë¡-ì¥ë°”êµ¬ë‹ˆ ë¹„ìš°ê¸°-ì¬ê³  ì°¨ê°)ë¥¼ ë‹¨ì¼ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ë°ì´í„° ì¼ê´€ì„± ë³´ì¥.
- **Upsert Logic**: ì¥ë°”êµ¬ë‹ˆ ì¤‘ë³µ ë‹´ê¸° ì‹œ ìˆ˜ëŸ‰ë§Œ ì¦ê°€ì‹œí‚¤ëŠ” íš¨ìœ¨ì ì¸ ë°ì´í„° ì²˜ë¦¬.

---

## ğŸ—‚ Database Schema (ERD)

PostgreSQLì„ ì‚¬ìš©í•˜ì—¬ ì •ê·œí™”ëœ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.

| í…Œì´ë¸”ëª…            | ì—­í•                             | ì£¼ìš” ê´€ê³„                   |
| :------------------ | :------------------------------ | :-------------------------- |
| **users**           | íšŒì› ì •ë³´ (ì£¼ì†Œ í¬í•¨)           | Orders(1:N), Carts(1:1)     |
| **products**        | ìƒí’ˆ ê¸°ë³¸ ì •ë³´                  | Options(1:N), Images(1:N)   |
| **product_options** | ì˜µì…˜ëª…, ì¶”ê°€ê¸ˆ, **ì¬ê³ (Stock)** | Products(N:1)               |
| **product_images**  | S3 ì´ë¯¸ì§€ URL ì €ì¥              | Products(N:1)               |
| **carts**           | ìœ ì €ë³„ ì¥ë°”êµ¬ë‹ˆ                 | CartItems(1:N)              |
| **cart_items**      | ì¥ë°”êµ¬ë‹ˆì— ë‹´ê¸´ ìƒí’ˆ            | Products(N:1), Options(N:1) |
| **orders**          | ì£¼ë¬¸ì„œ (ë°°ì†¡ì§€, ì´ì•¡)           | OrderItems(1:N)             |
| **order_items**     | ì£¼ë¬¸ ìƒì„¸ (ê°€ê²© ìŠ¤ëƒ…ìƒ·)         | Products(N:1)               |
| **sessions**        | ë¡œê·¸ì¸ ì„¸ì…˜ ì €ì¥ì†Œ              | -                           |

---

## ğŸš€ Installation & Setup

```bash
# 1. ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# 2. ë¹Œë“œ (TypeScript ì»´íŒŒì¼)
npm run build

# 3. í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm test

# 4. ê°œë°œ ì„œë²„ ì‹¤í–‰ (ts-node-dev)
npm run dev
```

## ğŸ“‚ Project Structure

```text
jewelry-shop/
â”œâ”€â”€ src/                # ë©”ì¸ ì†ŒìŠ¤ ì½”ë“œ (TypeScript)
â”‚   â”œâ”€â”€ config/         # DB(PostgreSQL), Multer(S3), env ì„¤ì •
â”‚   â”œâ”€â”€ controllers/    # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (Admin, Auth, Cart, Order, Product)
â”‚   â”œâ”€â”€ middlewares/    # ì¸ì¦(isAdmin, isAuthenticated) ë° ê³µí†µ ë¯¸ë“¤ì›¨ì–´
â”‚   â”œâ”€â”€ routes/         # ë„ë©”ì¸ë³„ URL ë¼ìš°íŒ… ì •ì˜
â”‚   â”œâ”€â”€ types/          # ì „ì—­ íƒ€ì… ì •ì˜ ë° ì™¸ë¶€ ëª¨ë“ˆ í™•ì¥(.d.ts)
â”‚   â”œâ”€â”€ views/          # EJS í…œí”Œë¦¿ (UI ë ˆì´ì•„ì›ƒ)
â”‚   â””â”€â”€ app.ts          # ì• í”Œë¦¬ì¼€ì´ì…˜ ì§„ì…ì  ë° ì„œë²„ ì„¤ì •
â”œâ”€â”€ tests/              # Jest ê¸°ë°˜ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œ (.test.ts)
â”œâ”€â”€ dist/               # ì»´íŒŒì¼ëœ JavaScript ê²°ê³¼ë¬¼ (Build Output)
â”œâ”€â”€ public/             # ì •ì  ìì› (CSS, í´ë¼ì´ì–¸íŠ¸ JS, Images)
â”œâ”€â”€ .github/            # GitHub Actions CI ì›Œí¬í”Œë¡œìš° ì„¤ì •
â”œâ”€â”€ .env                # í™˜ê²½ ë³€ìˆ˜ ì„¤ì • íŒŒì¼ (ë¹„ê³µê°œ)
â”œâ”€â”€ tsconfig.json       # TypeScript ì»´íŒŒì¼ ì„¤ì •
â”œâ”€â”€ jest.config.js      # Jest í…ŒìŠ¤íŠ¸ ì„¤ì •
â””â”€â”€ package.json        # ì˜ì¡´ì„± ê´€ë¦¬ ë° ìŠ¤í¬ë¦½íŠ¸ ì •ì˜
```

## ğŸ“ License

This project is licensed under the MIT License.
